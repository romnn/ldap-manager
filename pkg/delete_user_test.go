package pkg

import (
	"testing"
	// "fmt"
	// "strconv"
	// "strings"

	// "github.com/google/go-cmp/cmp"
	// pb "github.com/romnn/ldap-manager/pkg/grpc/gen"
	// ldaphash "github.com/romnn/ldap-manager/pkg/hash"
)

// TestDeleteUser ...
func TestDeleteUser(t *testing.T) {
	// test := new(Test).Setup(t)
	// defer test.Teardown()

	// users := []string{"user1", "user2"}
	// for _, user := range users {
	// 	if err := test.Manager.NewAccount(&pb.NewAccountRequest{
	// 		Account: &pb.Account{
	// 			Username:  user,
	// 			Password:  "y&*T R&EGGSAdsnbdjhfb887gfdwe7fFWEFGDSSDEF",
	// 			Email:     "felix@web.de",
	// 			FirstName: "Felix",
	// 			LastName:  "Heisenberg",
	// 		},
	// 	}, pb.HashingAlgorithm_DEFAULT); err != nil {
	// 		t.Fatalf("failed to add user: %v", err)
	// 	}
	// }

	// // Assert we find those two users
	// userList, err := test.Manager.GetUserList(&pb.GetUserListRequest{})
	// if err != nil {
	// 	t.Fatalf("failed to get users list: %v", err)
	// }
	// if err := containsUsers(userList, users, test.Manager.AccountAttribute); err != nil {
	// 	t.Error(err)
	// }

	// // Now delete the first user
	// keepGroups := false
	// if err := test.Manager.DeleteAccount(&pb.DeleteAccountRequest{Username: users[0]}, keepGroups); err != nil {
	// 	t.Fatalf("failed to delete user %q: %v", users[0], err)
	// }

	// // Assert we find only the second user
	// userList, err = test.Manager.GetUserList(&pb.GetUserListRequest{})
	// if err != nil {
	// 	t.Fatalf("failed to get users list: %v", err)
	// }
	// if err := containsUsers(userList, users[1:2], test.Manager.AccountAttribute); err != nil {
	// 	t.Error(err)
	// }
}
